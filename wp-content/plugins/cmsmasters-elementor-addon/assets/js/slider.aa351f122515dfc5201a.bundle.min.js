/*! cmsmasters-elementor-addon - v1.21.2 - 15-02-2026 */
"use strict";(self.webpackChunkcmsmasters_elementor_addon=self.webpackChunkcmsmasters_elementor_addon||[]).push([[309],{9775:(e,t,i)=>{var s=i(3203);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(i(2277)),r=s(i(7143));i(2363);class SliderWidget extends n.default{__construct(e){super.__construct(e),this.slider=null}getDefaultSettings(){const e="16:9".split(":"),t="elementor-widget-cmsmasters-slider",i={sliderWrapper:`${t}__wrapper`,contentInner:`${t}__content-inner`,sliderBackground:`${t}__bg`,kenBurns:"cmsmasters-ken-burns-active"};return{variables:{aspectRatio:e[0]/e[1]},classes:i,selectors:{sliderWrapper:`.${i.sliderWrapper}`,contentInner:`.${i.contentInner}`,sliderBackground:`.${i.sliderBackground}`}}}getDefaultElements(){const{selectors:e}=this.getSettings();return{$swiperContainer:this.findElement(".cmsmasters-swiper-container"),$sliderWrapper:this.findElement(e.sliderWrapper)}}initElements(){super.initElements(),this.slider=new r.default({widget:this})}async onInit(){await super.onInit(...arguments),await this.sliderInit(),this.videoBackground(),setTimeout((()=>{this.onEdit()}),250)}async sliderInit(){await this.slider.init(),setTimeout((()=>{this.slider.swiper.on("slideChange",this.kenBurns.bind(this)),this.slider.swiper.on("slideChangeTransitionStart",this.contentAnimation.bind(this))}),250),this.slider.on("options",(e=>{elementorFrontend.isEditMode()&&(e.autoplay=!1)})),this.kenBurns(),this.contentAnimation()}videoBackground(){const e=this.getElementSettings(),t=this;e.slides.forEach((e=>{const i=e.slide_bg_video_link,s=e._id;if(null!==i)var n=i.indexOf("vimeo")+1,r=i.indexOf("youtube")+1;r?t.elements.$swiperContainer.find(".elementor-repeater-item-"+s+" .elementor-video-iframe").on("canplay",t.changeVideoSize(s,"youtube")):n?t.elements.$swiperContainer.find(".elementor-repeater-item-"+s+" .elementor-video-iframe").on("canplay",t.changeVideoSize(s,"vimeo")):t.elements.$swiperContainer.find(".elementor-repeater-item-"+s+" .elementor-background-video-hosted").attr("src",i).on("canplay",t.changeVideoSize(s,"hosted"))}))}getSlideVideoElement(e){var t=".elementor-background-video-container";return"hosted"!==(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hosted")&&(t=".elementor-video-iframe"),this.elements.$swiperContainer.find(`.elementor-repeater-item-${e} ${t}`)}changeVideoSize(e,t){const i=this.getSlideVideoElement(e,t),s=this.calcVideosSize(i);i.width(s.width).height(s.height)}calcVideosSize(e){const{variables:t}=this.getSettings(),i=e.outerWidth(),s=e.outerHeight(),n=i/s>t.aspectRatio;return{width:n?i:s*t.aspectRatio,height:n?i/t.aspectRatio:s}}kenBurns(){if("1"!==this.getElementSettings().slider_per_view)return;const{classes:e,selectors:t}=this.getSettings(),i=this.slider.getCurrentSlide(t.sliderBackground);this.slider.getAllSlides().find(t.sliderBackground).removeClass(e.kenBurns),i.addClass(e.kenBurns)}contentAnimation(){const e=this.elements.$sliderWrapper.data("animation"),{selectors:t}=this.getSettings();this.$element.find(`.swiper-slide:not(.swiper-slide-visible) ${t.contentInner}`).removeClass("animated "+e),this.$element.find(`.swiper-slide-visible ${t.contentInner}`).addClass("animated "+e)}onEdit(){elementorFrontend.isEditMode()&&this.slideStop()}slideStop(){elementorFrontend.isEditMode()&&(this.slider.swiper.autoplay.running=!1,this.slider.swiper.autoplay.stop())}onEditSettingsChange(e){"activeItemIndex"===e&&this.activateDefaultTab(e)}activateDefaultTab(e){if(!elementorFrontend.isEditMode())return;let t=this.getEditSettings(e);this.changeActiveSlide(--t)}changeActiveSlide(e){this.isActiveSlide(e)||this.activeSlide(e)}isActiveSlide(e){return e===this.slider.swiper.realIndex}activeSlide(e){const{swiper:t}=this.slider;t.slideTo(e,t.params.speed)}}t.default=SliderWidget}}]);