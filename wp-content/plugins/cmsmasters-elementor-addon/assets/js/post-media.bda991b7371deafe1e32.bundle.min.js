/*! cmsmasters-elementor-addon - v1.21.2 - 15-02-2026 */
"use strict";(self.webpackChunkcmsmasters_elementor_addon=self.webpackChunkcmsmasters_elementor_addon||[]).push([[9090],{6341:(e,t,i)=>{var n=i(3203);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(i(2277)),o=n(i(2533)),a=n(i(7143));const l=i(2363);class PostMedia extends s.default{__construct(e){super.__construct(e),this.slider=null,this.keydownHelper=new o.default}getDefaultElements(){const e="elementor-widget-cmsmasters-post-media";return{$imageOverlay:this.findElement(`.${e}__image-placeholder`),$videoHosted:this.findElement(`.${e}__hosted`),$videoIframe:this.findElement(".elementor-video-iframe"),$videoContainer:this.findElement(`.${e}__container`),$remove:this.findElement(`.${e}__close-button`)}}initElements(){super.initElements(),this.slider=new a.default({widget:this})}bindEvents(){this.keydownHelper.bindAccessibleClick(this.elements.$imageOverlay,(e=>this.handleVideo(e))),this.bindElementChange("slider_height",l.debounce(this.slider.update.bind(this)))}onInit(){super.onInit(...arguments),this.slider.init()}handleVideo(){this.getElementSettings("lightbox")||(this.elements.$imageOverlay.remove(),this.playVideo())}playVideo(){const e=this.elements.$videoHosted;if(e.length){const t=e.data("lazy-load");return t&&e.attr("src",t),void e[0].play()}const t=this.elements.$videoIframe,i=t.data("lazy-load");i&&t.attr("src",i);const n=t.attr("src"),s=n.replace(/&muted*=[a-z\d]*/,"").replace(/&autoplay=[a-z\d]*/,"");let o="&autoplay=1",a="&mute=true",l="";if(n.includes("vimeo.com")){const e=n.indexOf("#t=");a="&muted=true",l=`${n.slice(0,e)}${o}${a}${n.slice(e)}`}else n.includes("twitch.tv")?o="&autoplay=yes":n.includes("facebook.com")&&(o="&autoplay=true"),l=`${s}${o}${a}`;t.attr("src",l)}onElementChange(e){const t=elementorFrontend.config.elements.data[this.getModelCID()].options.controls[e];t&&"section_lightbox_style"!==t.section&&this.hideLightbox(),0!==e.indexOf("lightbox_content_animation")?"lightbox"!==e||this.getElementSettings("lightbox")?"aspect_ratio"===e&&this.getElementSettings("lightbox")&&this.handleAspectRatio():this.hideLightbox():this.animateVideo()}async hideLightbox(){(await elementorFrontend.utils.lightbox).getModal().hide()}async getLightbox(){return await elementorFrontend.utils.lightbox}animateVideo(){this.getLightbox().setEntranceAnimation(this.getCurrentDeviceSetting("lightbox_content_animation"))}handleAspectRatio(){this.getLightbox().setVideoAspectRatio(this.getElementSettings("aspect_ratio"))}}t.default=PostMedia}}]);